<style>
    .create-art-list{
        /*width: 615px !important;*/
    }
</style>
<div class="category-products">
<?php
	$_helper    = $this->helper('catalog/output');
	if (!Mage::registry('current_category')) return ?>
<?php $_categories = $this->getCurrentChildCategories();?>
<?php $_count = is_array($_categories)?count($_categories):$_categories->count();?>

<?php if($_count): ?>
    <div class="create-art-list-container">
        <div class="create-art-list">

    <?php 
        $_columnCount = $this->getColumnCount();/*'4'*/  
        $i=0;
        foreach ($_categories as $k => $_category):
            $firstItemSku = $_category->getProductCollection()->getFirstItem()->getSku();
            $categoryImg = $_helper->getAmazonS3CategoryUrl() .$firstItemSku . '.jpg';
            $anchor = $this->getCategoryUrl($_category); 
            $categoryName = $_category->getName(); 
            $categoryImg = Mage::getModel('catalog/category')->load($k)->getImageUrl(); 
            $catVar = $_helper->categoryAttribute($_category, $_category->getName(), 'name'); 
            if(getimagesize($categoryImg)): ?>
            <div class="item-isotope">
                <a href="<?php echo $anchor ?>">
                    <img src="<?php echo $categoryImg; ?>" alt="<?php echo $categoryName; ?>" />
                    <!--<div>
                        <?php //echo $catVar ?>
                    </div>-->
                </a>
            </div>
            <?php endif; ?>
    <?php endforeach; ?>
        </div>
    </div>
    <div class="clear"></div>
<?php endif; ?>
<script>
jQuery(document).ready(function(){
    jQuery(".item-isotope").each(function(){
        img = jQuery(this).find("img");
        w = img.width();
        h = img.height();
        jQuery(this).attr("style","height:"+/*(parseFloat(*/h/*)+18)*/+"px;width:"+w+"px;")
    });
    $container = jQuery(".create-art-list");
    $container.isotope({
      itemSelector: '.item-isotope',
      layoutMode: 'masonry'
    });
});
</script>
</div>